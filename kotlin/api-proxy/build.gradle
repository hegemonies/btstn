buildscript {
    ext {
        ktorVersion="1.4.1"
        kotlinVersion="1.4.10"
        logbackVersion="1.2.1"
    }
}

plugins {
    id 'org.jetbrains.kotlin.jvm' version "$kotlinVersion"
}

apply plugin: 'kotlin'
apply plugin: 'application'

mainClassName = "io.ktor.server.netty.EngineMain"

sourceSets {
    main.kotlin.srcDirs = main.java.srcDirs = ['src']
    test.kotlin.srcDirs = test.java.srcDirs = ['test']
    main.resources.srcDirs = ['resources']
    test.resources.srcDirs = ['testresources']
}

dependencies {
    implementation(
            "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion",
            "io.ktor:ktor-server-netty:$ktorVersion",
            "ch.qos.logback:logback-classic:$logbackVersion",
            "io.ktor:ktor-metrics:$ktorVersion",
            "io.ktor:ktor-server-core:$ktorVersion",
            "io.ktor:ktor-server-host-common:$ktorVersion",
            "io.ktor:ktor-jackson:$ktorVersion",
            project(":kotlin-dto"),
    )
    testImplementation "io.ktor:ktor-server-tests:$ktorVersion"
}
